<div class="card">
  <div class="header">
    <button class="btn-approve" (click)="openApproveModal()">อนุมัติ</button>
    <button class="btn-reject" (click)="openRejectModal()">ไม่อนุมัติ</button>
  </div>

  <table class="table">
    <thead>
      <tr>
        <th>เลือก</th>
        <th>รายการ</th>
        <th>เหตุผล</th>
        <th>สถานะ</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let d of docs">
        <td>
          <input 
            type="checkbox" 
            [(ngModel)]="d.checked"
            [disabled]="d.status === 'อนุมัติ' || d.status === 'ไม่อนุมัติ'" />
        </td>

        <td>{{ d.name }}</td>
        <td>{{ d.reason }}</td>
        <td 
          [ngClass]="{
            'approved': d.status === 'อนุมัติ',
            'rejected': d.status === 'ไม่อนุมัติ',
            'pending': d.status === 'รออนุมัติ'
          }"
        >
          {{ d.status }}
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="modal-overlay" *ngIf="modalType">

  <div class="modal">
    
    <div class="modal-header">
      {{ modalType === 'approve' ? 'ยืนยันการอนุมัติ' : 'ยืนยันการไม่อนุมัติ' }}
    </div>

    <div class="modal-body">
      <label>เหตุผล :</label><br />
      <textarea [(ngModel)]="modalReason"></textarea>
    </div>

    <div class="modal-footer">
      <button 
        class="btn-approve-modal" 
        *ngIf="modalType === 'approve'"
        (click)="confirm()"
      >
        อนุมัติ
      </button>

      <button 
        class="btn-approve-modal" 
        *ngIf="modalType === 'reject'"
        (click)="confirm()"
      >
        ไม่อนุมัติ
      </button>

      <button class="btn-reject-modal" (click)="closeModal()">ยกเลิก</button>
    </div>

  </div>

</div>
